(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.LgZoom=e()}})(function(){var i,e,t;return function l(a,s,n){function c(o,e){if(!s[o]){if(!a[o]){var t=typeof require=="function"&&require;if(!e&&t)return t(o,!0);if(u)return u(o,!0);var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[o]={exports:{}};a[o][0].call(i.exports,function(e){var t=a[o][1][e];return c(t?t:e)},i,i.exports,l,a,s,n)}return s[o].exports}var u=typeof require=="function"&&require;for(var e=0;e<n.length;e++)c(n[e]);return c}({1:[function(e,t,r){(function(e,t){if(typeof i==="function"&&i.amd){i([],t)}else if(typeof r!=="undefined"){t()}else{var o={exports:{}};t();e.lgZoom=o.exports}})(this,function(){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o){if(Object.prototype.hasOwnProperty.call(o,r)){e[r]=o[r]}}}return e};var r={scale:1,zoom:true,actualSize:true,enableZoomAfter:300};var e=function e(t){this.el=t;this.core=window.lgData[this.el.getAttribute("lg-uid")];this.core.s=o({},r,this.core.s);if(this.core.s.zoom&&this.core.doCss()){this.init();this.zoomabletimeout=false;this.pageX=window.innerWidth/2;this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)}return this};e.prototype.init=function(){var c=this;var e='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';if(c.core.s.actualSize){e+='<span id="lg-actual-size" class="lg-icon"></span>'}this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",e);utils.on(c.core.el,"onSlideItemLoad.lgtmzoom",function(e){var t=c.core.s.enableZoomAfter+e.detail.delay;if(utils.hasClass(document.body,"lg-from-hash")&&e.detail.delay){t=0}else{utils.removeClass(document.body,"lg-from-hash")}c.zoomabletimeout=setTimeout(function(){utils.addClass(c.core.___slide[e.detail.index],"lg-zoomable")},t+30)});var n=1;var t=function e(t){var o=c.core.outer.querySelector(".lg-current .lg-image");var r;var i;var l=(window.innerWidth-o.clientWidth)/2;var a=(window.innerHeight-o.clientHeight)/2+(document.documentElement.scrollTop||document.body.scrollTop);r=c.pageX-l;i=c.pageY-a;var s=(t-1)*r;var n=(t-1)*i;utils.setVendor(o,"Transform","scale3d("+t+", "+t+", 1)");o.setAttribute("data-scale",t);o.parentElement.style.left=-s+"px";o.parentElement.style.top=-n+"px";o.parentElement.setAttribute("data-x",s);o.parentElement.setAttribute("data-y",n)};var u=function e(){if(n>1){utils.addClass(c.core.outer,"lg-zoomed")}else{c.resetZoom()}if(n<1){n=1}t(n)};var r=function e(t,o,r,i){var l=o.clientWidth;var a;if(c.core.s.dynamic){a=c.core.s.dynamicEl[r].width||o.naturalWidth||l}else{a=c.core.items[r].getAttribute("data-width")||o.naturalWidth||l}var s;if(utils.hasClass(c.core.outer,"lg-zoomed")){n=1}else{if(a>l){s=a/l;n=s||2}}if(i){c.pageX=window.innerWidth/2;c.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)}else{c.pageX=t.pageX||t.targetTouches[0].pageX;c.pageY=t.pageY||t.targetTouches[0].pageY}u();setTimeout(function(){utils.removeClass(c.core.outer,"lg-grabbing");utils.addClass(c.core.outer,"lg-grab")},10)};var i=false;utils.on(c.core.el,"onAferAppendSlide.lgtmzoom",function(e){var t=e.detail.index;var o=c.core.___slide[t].querySelector(".lg-image");if(!c.core.isTouch){utils.on(o,"dblclick",function(e){r(e,o,t)})}if(c.core.isTouch){utils.on(o,"touchstart",function(e){if(!i){i=setTimeout(function(){i=null},300)}else{clearTimeout(i);i=null;r(e,o,t)}e.preventDefault()})}});utils.on(window,"resize.lgzoom scroll.lgzoom orientationchange.lgzoom",function(){c.pageX=window.innerWidth/2;c.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop);t(n)});utils.on(document.getElementById("lg-zoom-out"),"click.lg",function(){if(c.core.outer.querySelector(".lg-current .lg-image")){n-=c.core.s.scale;u()}});utils.on(document.getElementById("lg-zoom-in"),"click.lg",function(){if(c.core.outer.querySelector(".lg-current .lg-image")){n+=c.core.s.scale;u()}});utils.on(document.getElementById("lg-actual-size"),"click.lg",function(e){r(e,c.core.___slide[c.core.index].querySelector(".lg-image"),c.core.index,true)});utils.on(c.core.el,"onBeforeSlide.lgtm",function(){n=1;c.resetZoom()});if(!c.core.isTouch){c.zoomDrag()}if(c.core.isTouch){c.zoomSwipe()}};e.prototype.resetZoom=function(){utils.removeClass(this.core.outer,"lg-zoomed");for(var e=0;e<this.core.___slide.length;e++){if(this.core.___slide[e].querySelector(".lg-img-wrap")){this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("style");this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-x");this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-y")}}for(var t=0;t<this.core.___slide.length;t++){if(this.core.___slide[t].querySelector(".lg-image")){this.core.___slide[t].querySelector(".lg-image").removeAttribute("style");this.core.___slide[t].querySelector(".lg-image").removeAttribute("data-scale")}}this.pageX=window.innerWidth/2;this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)};e.prototype.zoomSwipe=function(){var i=this;var l={};var a={};var s=false;var n=false;var c=false;for(var e=0;e<i.core.___slide.length;e++){utils.on(i.core.___slide[e],"touchstart.lg",function(e){if(utils.hasClass(i.core.outer,"lg-zoomed")){var t=i.core.___slide[i.core.index].querySelector(".lg-object");c=t.offsetHeight*t.getAttribute("data-scale")>i.core.outer.querySelector(".lg").clientHeight;n=t.offsetWidth*t.getAttribute("data-scale")>i.core.outer.querySelector(".lg").clientWidth;if(n||c){e.preventDefault();l={x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}}}})}for(var t=0;t<i.core.___slide.length;t++){utils.on(i.core.___slide[t],"touchmove.lg",function(e){if(utils.hasClass(i.core.outer,"lg-zoomed")){var t=i.core.___slide[i.core.index].querySelector(".lg-img-wrap");var o;var r;e.preventDefault();s=true;a={x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY};utils.addClass(i.core.outer,"lg-zoom-dragging");if(c){r=-Math.abs(t.getAttribute("data-y"))+(a.y-l.y)}else{r=-Math.abs(t.getAttribute("data-y"))}if(n){o=-Math.abs(t.getAttribute("data-x"))+(a.x-l.x)}else{o=-Math.abs(t.getAttribute("data-x"))}if(Math.abs(a.x-l.x)>15||Math.abs(a.y-l.y)>15){t.style.left=o+"px";t.style.top=r+"px"}}})}for(var o=0;o<i.core.___slide.length;o++){utils.on(i.core.___slide[o],"touchend.lg",function(){if(utils.hasClass(i.core.outer,"lg-zoomed")){if(s){s=false;utils.removeClass(i.core.outer,"lg-zoom-dragging");i.touchendZoom(l,a,n,c)}}})}};e.prototype.zoomDrag=function(){var i=this;var l={};var a={};var s=false;var n=false;var c=false;var u=false;for(var e=0;e<i.core.___slide.length;e++){utils.on(i.core.___slide[e],"mousedown.lgzoom",function(e){var t=i.core.___slide[i.core.index].querySelector(".lg-object");u=t.offsetHeight*t.getAttribute("data-scale")>i.core.outer.querySelector(".lg").clientHeight;c=t.offsetWidth*t.getAttribute("data-scale")>i.core.outer.querySelector(".lg").clientWidth;if(utils.hasClass(i.core.outer,"lg-zoomed")){if(utils.hasClass(e.target,"lg-object")&&(c||u)){e.preventDefault();l={x:e.pageX,y:e.pageY};s=true;i.core.outer.scrollLeft+=1;i.core.outer.scrollLeft-=1;utils.removeClass(i.core.outer,"lg-grab");utils.addClass(i.core.outer,"lg-grabbing")}}})}utils.on(window,"mousemove.lgzoom",function(e){if(s){var t=i.core.___slide[i.core.index].querySelector(".lg-img-wrap");var o;var r;n=true;a={x:e.pageX,y:e.pageY};utils.addClass(i.core.outer,"lg-zoom-dragging");if(u){r=-Math.abs(t.getAttribute("data-y"))+(a.y-l.y)}else{r=-Math.abs(t.getAttribute("data-y"))}if(c){o=-Math.abs(t.getAttribute("data-x"))+(a.x-l.x)}else{o=-Math.abs(t.getAttribute("data-x"))}t.style.left=o+"px";t.style.top=r+"px"}});utils.on(window,"mouseup.lgzoom",function(e){if(s){s=false;utils.removeClass(i.core.outer,"lg-zoom-dragging");if(n&&(l.x!==a.x||l.y!==a.y)){a={x:e.pageX,y:e.pageY};i.touchendZoom(l,a,c,u)}n=false}utils.removeClass(i.core.outer,"lg-grabbing");utils.addClass(i.core.outer,"lg-grab")})};e.prototype.touchendZoom=function(e,t,o,r){var i=this;var l=i.core.___slide[i.core.index].querySelector(".lg-img-wrap");var a=i.core.___slide[i.core.index].querySelector(".lg-object");var s=-Math.abs(l.getAttribute("data-x"))+(t.x-e.x);var n=-Math.abs(l.getAttribute("data-y"))+(t.y-e.y);var c=(i.core.outer.querySelector(".lg").clientHeight-a.offsetHeight)/2;var u=Math.abs(a.offsetHeight*Math.abs(a.getAttribute("data-scale"))-i.core.outer.querySelector(".lg").clientHeight+c);var d=(i.core.outer.querySelector(".lg").clientWidth-a.offsetWidth)/2;var g=Math.abs(a.offsetWidth*Math.abs(a.getAttribute("data-scale"))-i.core.outer.querySelector(".lg").clientWidth+d);if(Math.abs(t.x-e.x)>15||Math.abs(t.y-e.y)>15){if(r){if(n<=-u){n=-u}else if(n>=-c){n=-c}}if(o){if(s<=-g){s=-g}else if(s>=-d){s=-d}}if(r){l.setAttribute("data-y",Math.abs(n))}else{n=-Math.abs(l.getAttribute("data-y"))}if(o){l.setAttribute("data-x",Math.abs(s))}else{s=-Math.abs(l.getAttribute("data-x"))}l.style.left=s+"px";l.style.top=n+"px"}};e.prototype.destroy=function(){var e=this;utils.off(e.core.el,".lgzoom");utils.off(window,".lgzoom");for(var t=0;t<e.core.___slide.length;t++){utils.off(e.core.___slide[t],".lgzoom")}utils.off(e.core.el,".lgtmzoom");e.resetZoom();clearTimeout(e.zoomabletimeout);e.zoomabletimeout=false};window.lgModules.zoom=e})},{}]},{},[1])(1)});