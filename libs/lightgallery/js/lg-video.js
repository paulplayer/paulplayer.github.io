(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var o;if(typeof window!=="undefined"){o=window}else if(typeof global!=="undefined"){o=global}else if(typeof self!=="undefined"){o=self}else{o=this}o.LgVideo=e()}})(function(){var t,e,o;return function l(s,a,d){function c(i,e){if(!a[i]){if(!s[i]){var o=typeof require=="function"&&require;if(!e&&o)return o(i,!0);if(n)return n(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var t=a[i]={exports:{}};s[i][0].call(t.exports,function(e){var o=s[i][1][e];return c(o?o:e)},t,t.exports,l,s,a,d)}return a[i].exports}var n=typeof require=="function"&&require;for(var e=0;e<d.length;e++)c(d[e]);return c}({1:[function(e,o,r){(function(e,o){if(typeof t==="function"&&t.amd){t([],o)}else if(typeof r!=="undefined"){o()}else{var i={exports:{}};o();e.lgVideo=i.exports}})(this,function(){"use strict";var i=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var r in i){if(Object.prototype.hasOwnProperty.call(i,r)){e[r]=i[r]}}}return e};var r={videoMaxWidth:"855px",youtubePlayerParams:false,vimeoPlayerParams:false,dailymotionPlayerParams:false,vkPlayerParams:false,videojs:false,videojsOptions:{}};var e=function e(o){this.el=o;this.core=window.lgData[this.el.getAttribute("lg-uid")];this.core.s=i({},r,this.core.s);this.videoLoaded=false;this.init();return this};e.prototype.init=function(){var n=this;utils.on(n.core.el,"hasVideo.lgtm",function(e){n.core.___slide[e.detail.index].querySelector(".lg-video").insertAdjacentHTML("beforeend",n.loadVideo(e.detail.src,"lg-object",true,e.detail.index,e.detail.html));if(e.detail.html){if(n.core.s.videojs){try{videojs(n.core.___slide[e.detail.index].querySelector(".lg-html5"),n.core.s.videojsOptions,function(){if(!n.videoLoaded){this.play()}})}catch(e){console.error("Make sure you have included videojs")}}else{n.core.___slide[e.detail.index].querySelector(".lg-html5").play()}}});utils.on(n.core.el,"onAferAppendSlide.lgtm",function(e){if(n.core.___slide[e.detail.index].querySelector(".lg-video-cont")){n.core.___slide[e.detail.index].querySelector(".lg-video-cont").style.maxWidth=n.core.s.videoMaxWidth;n.videoLoaded=true}});var o=function e(r){if(utils.hasClass(r.querySelector(".lg-object"),"lg-has-poster")&&r.querySelector(".lg-object").style.display!=="none"){if(!utils.hasClass(r,"lg-has-video")){utils.addClass(r,"lg-video-playing lg-has-video");var o;var i;var t=function e(o,i){r.querySelector(".lg-video").insertAdjacentHTML("beforeend",n.loadVideo(o,"",false,n.core.index,i));if(i){if(n.core.s.videojs){try{videojs(n.core.___slide[n.core.index].querySelector(".lg-html5"),n.core.s.videojsOptions,function(){this.play()})}catch(e){console.error("Make sure you have included videojs")}}else{n.core.___slide[n.core.index].querySelector(".lg-html5").play()}}};if(n.core.s.dynamic){o=n.core.s.dynamicEl[n.core.index].src;i=n.core.s.dynamicEl[n.core.index].html;t(o,i)}else{o=n.core.items[n.core.index].getAttribute("href")||n.core.items[n.core.index].getAttribute("data-src");i=n.core.items[n.core.index].getAttribute("data-html");t(o,i)}var l=r.querySelector(".lg-object");r.querySelector(".lg-video").appendChild(l);if(!utils.hasClass(r.querySelector(".lg-video-object"),"lg-html5")){utils.removeClass(r,"lg-complete");utils.on(r.querySelector(".lg-video-object"),"load.lg error.lg",function(){utils.addClass(r,"lg-complete")})}}else{var s=r.querySelector(".lg-youtube");var a=r.querySelector(".lg-vimeo");var d=r.querySelector(".lg-dailymotion");var c=r.querySelector(".lg-html5");if(s){s.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}else if(a){try{$f(a).api("play")}catch(e){console.error("Make sure you have included froogaloop2 js")}}else if(d){d.contentWindow.postMessage("play","*")}else if(c){if(n.core.s.videojs){try{videojs(c).play()}catch(e){console.error("Make sure you have included videojs")}}else{c.play()}}utils.addClass(r,"lg-video-playing")}}};if(n.core.doCss()&&n.core.items.length>1&&(n.core.s.enableSwipe&&n.core.isTouch||n.core.s.enableDrag&&!n.core.isTouch)){utils.on(n.core.el,"onSlideClick.lgtm",function(){var e=n.core.___slide[n.core.index];o(e)})}else{for(var e=0;e<n.core.___slide.length;e++){(function(e){utils.on(n.core.___slide[e],"click.lg",function(){o(n.core.___slide[e])})})(e)}}utils.on(n.core.el,"onBeforeSlide.lgtm",function(e){var o=n.core.___slide[e.detail.prevIndex];var i=o.querySelector(".lg-youtube");var r=o.querySelector(".lg-vimeo");var t=o.querySelector(".lg-dailymotion");var l=o.querySelector(".lg-vk");var s=o.querySelector(".lg-html5");if(i){i.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}else if(r){try{$f(r).api("pause")}catch(e){console.error("Make sure you have included froogaloop2 js")}}else if(t){t.contentWindow.postMessage("pause","*")}else if(s){if(n.core.s.videojs){try{videojs(s).pause()}catch(e){console.error("Make sure you have included videojs")}}else{s.pause()}}if(l){l.setAttribute("src",l.getAttribute("src").replace("&autoplay","&noplay"))}var a;if(n.core.s.dynamic){a=n.core.s.dynamicEl[e.detail.index].src}else{a=n.core.items[e.detail.index].getAttribute("href")||n.core.items[e.detail.index].getAttribute("data-src")}var d=n.core.isVideo(a,e.detail.index)||{};if(d.youtube||d.vimeo||d.dailymotion||d.vk){utils.addClass(n.core.outer,"lg-hide-download")}});utils.on(n.core.el,"onAfterSlide.lgtm",function(e){utils.removeClass(n.core.___slide[e.detail.prevIndex],"lg-video-playing")})};e.prototype.loadVideo=function(e,o,i,r,t){var l="";var s=1;var a="";var d=this.core.isVideo(e,r)||{};if(i){if(this.videoLoaded){s=0}else{s=1}}if(d.youtube){a="?wmode=opaque&autoplay="+s+"&enablejsapi=1";if(this.core.s.youtubePlayerParams){a=a+"&"+utils.param(this.core.s.youtubePlayerParams)}l='<iframe class="lg-video-object lg-youtube '+o+'" width="560" height="315" src="//www.youtube.com/embed/'+d.youtube[1]+a+'" frameborder="0" allowfullscreen></iframe>'}else if(d.vimeo){a="?autoplay="+s+"&api=1";if(this.core.s.vimeoPlayerParams){a=a+"&"+utils.param(this.core.s.vimeoPlayerParams)}l='<iframe class="lg-video-object lg-vimeo '+o+'" width="560" height="315"  src="//player.vimeo.com/video/'+d.vimeo[1]+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}else if(d.dailymotion){a="?wmode=opaque&autoplay="+s+"&api=postMessage";if(this.core.s.dailymotionPlayerParams){a=a+"&"+utils.param(this.core.s.dailymotionPlayerParams)}l='<iframe class="lg-video-object lg-dailymotion '+o+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+d.dailymotion[1]+a+'" frameborder="0" allowfullscreen></iframe>'}else if(d.html5){var c=t.substring(0,1);if(c==="."||c==="#"){t=document.querySelector(t).innerHTML}l=t}else if(d.vk){a="&autoplay="+s;if(this.core.s.vkPlayerParams){a=a+"&"+utils.param(this.core.s.vkPlayerParams)}l='<iframe class="lg-video-object lg-vk '+o+'" width="560" height="315" src="http://vk.com/video_ext.php?'+d.vk[1]+a+'" frameborder="0" allowfullscreen></iframe>'}return l};e.prototype.destroy=function(){this.videoLoaded=false};window.lgModules.video=e})},{}]},{},[1])(1)});